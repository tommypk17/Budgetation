<mat-card *ngIf="budget != undefined && !edit">
  <mat-card-header>
    <div class="d-flex justify-content-between w-100">
      <div class="d-flex align-items-center">
        <p class="mat-card-title mb-0">{{budget.name}}</p>
        <small class="mx-2">{{budget.isWhatIf == false? '(Primary Budget)': '(What-If Budget)'}}</small>
      </div>
      <div class="d-flex align-items-center">
        <button mat-icon-button [routerLink]="['','budgets',budget.id]" matTooltip="view budget" aria-label="view budget" >
          <mat-icon>visibility</mat-icon>
        </button>
        <button mat-icon-button [matMenuTriggerFor]="optionsMenu" matTooltip="budget options" aria-label="view budget options" >
          <mat-icon>more_horiz</mat-icon>
        </button>
        <mat-menu #optionsMenu="matMenu">
          <button mat-menu-item (click)="edit = !edit">
            <mat-icon>edit</mat-icon>
            <span>Edit</span>
          </button>
          <button mat-menu-item>
            <mat-icon>delete</mat-icon>
            <span>Delete</span>
          </button>
        </mat-menu>
      </div>
    </div>
  </mat-card-header>
  <mat-card-content>
    <div class="d-flex justify-content-around">
      <div class="d-flex flex-column">
        <strong>Salary</strong>
        <hr class="w-100" />
        <p>{{budget.salary | currency: 'USD'}}</p>
      </div>
      <div class="d-flex flex-column">
        <strong>Monthly Pay</strong>
        <hr class="w-100" />
        <p>{{budget.netMonthlyPay | currency: 'USD'}}</p>
      </div>
      <div class="d-flex flex-column">
        <strong>Monthly Deductions</strong>
        <hr class="w-100" />
        <p>{{budget.monthlyDeductions | currency: 'USD'}}</p>
      </div>
    </div>
  </mat-card-content>
</mat-card>
<mat-card *ngIf="edit">
  <app-edit-budget-block [budget]="budget" (cancel)="edit = !edit" (save)="saveBudget($event)"></app-edit-budget-block>
</mat-card>
