<mat-card>
  <div id="formErrors" class="mb-1">
    <mat-chip-list *ngIf="isErroneous">
      <ng-container *ngFor="let fieldErrors of errors">
      <mat-chip disabled color="warn" selected>{{fieldErrors.fieldName}} {{fieldErrors.messages[0].message}}</mat-chip>
      </ng-container>
    </mat-chip-list>
  </div>
  <mat-card-content>
    <form #form class="d-flex flex-column">
      <mat-form-field appearance="fill" class="mb-2">
        <mat-label>enter the expense name</mat-label>
        <input [(ngModel)]="bill.expense.name" name="name" (change)="onChange('name', bill.expense.name)"  matInput required>
        <mat-hint align="end">name used to identify expense</mat-hint>
      </mat-form-field>
      <mat-form-field appearance="fill" class="mb-2">
        <mat-label>enter the amount</mat-label>
        <input [(ngModel)]="bill.expense.amount" name="amount" (change)="onChange('amount', bill.expense.amount)" matInput type="number" min=".01" step="0.01" required>
        <span matPrefix>$&nbsp;</span>
        <mat-hint align="end">amount due to satisfy the expense</mat-hint>
      </mat-form-field>
      <mat-form-field appearance="fill" class="mb-2">
        <mat-label>select the expense type</mat-label>
        <mat-select [(ngModel)]="bill.expense.type" name="type" (selectionChange)="onChange('type', bill.expense.type)">
          <mat-option *ngFor="let expenseType of expenseTypes.types" [value]="expenseType.value">
            {{expenseType.display}}
          </mat-option>
        </mat-select>
        <mat-hint align="end">select the type of expense to categorize under</mat-hint>
      </mat-form-field>
      <mat-form-field appearance="fill" class="mb-2">
        <mat-label>select the reoccurrence frequency</mat-label>
        <mat-select #reoccurrence [(ngModel)]="bill.reoccurrence" name="reoccurrence" (selectionChange)="onChange('reoccurrence', bill.reoccurrence)">
          <mat-option  *ngFor="let reoccurrence of reoccurrences.reoccurrences" [value]="reoccurrence.value">
            {{reoccurrence.display}}
          </mat-option>
        </mat-select>
        <mat-hint align="end">select how often this expense is expected to reoccur</mat-hint>
      </mat-form-field>
      <mat-form-field *ngIf="reoccurrence.value > 0" appearance="fill" class="mb-2">
        <mat-label>begin date</mat-label>
        <input matInput [(ngModel)]="bill.begin" name="begin" (dateChange)="onChange('begin', bill.begin)" [matDatepicker]="beginPicker" [required]="reoccurrence.value > 0">
        <mat-datepicker-toggle matSuffix [for]="beginPicker"></mat-datepicker-toggle>
        <mat-datepicker #beginPicker></mat-datepicker>
        <mat-hint align="end">select the date this expense should reoccur from</mat-hint>
      </mat-form-field>
      <mat-form-field appearance="fill" class="mb-2">
        <mat-label>due date</mat-label>
        <input matInput [(ngModel)]="bill.due" name="due" (dateChange)="onChange('due', bill.due)" [matDatepicker]="duePicker" required>
        <mat-datepicker-toggle matSuffix [for]="duePicker"></mat-datepicker-toggle>
        <mat-datepicker #duePicker></mat-datepicker>
        <mat-hint align="end">select the date this expense will first be due</mat-hint>
      </mat-form-field>
      <div class="mb-2 d-flex flex-column">
        <mat-label>paid</mat-label>
        <mat-checkbox [(ngModel)]="bill.paid" name="paid" (change)="onChange('paid', bill.paid)"></mat-checkbox>
      </div>
      <div class="d-flex flex-end">
        <div id="buttonActions">
          <button mat-raised-button color="accent" id="saveButton" (click)="onSave()" type="submit">save new expense</button>
        </div>
      </div>
    </form>
  </mat-card-content>
</mat-card>
