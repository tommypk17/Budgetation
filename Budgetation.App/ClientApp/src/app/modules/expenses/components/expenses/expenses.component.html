<div class="panel">
  <app-header-block
    [blockTitle]="headerBlock.blockTitle"
    [blockSubtitle]="headerBlock.blockSubtitle"
    [blockContent]="headerBlock.blockContent"
    class="block"
  >
  </app-header-block>
  <div class="block">
    <app-stats-expense-block #expenseStats [expenses]="currentExpenses" (show)="showExpenses($event)"></app-stats-expense-block>
  </div>
  <div class="block">
    <app-expense-actions-block [expenses]="allExpenses" [filtered]="!!currentFilter" [disablePrepareRecurring]="false" (prepareRecurring)="prepareRecurring($event)" (filter)="filterExpenses($event)" (sort)="sortExpenses($event)" (newExpense)="createNewExpense()" [disableNewExpense]="newExpense != undefined"></app-expense-actions-block>
  </div>
  <div class="block">
    <app-new-expense-block [expense]="newExpense" (cancel)="cancelNewExpense()" (save)="saveNewExpense($event)"></app-new-expense-block>
  </div>
  <ng-container *ngFor="let currentExpense of currentExpenses">
    <div class="block">
      <app-existing-expense-block [expense]="currentExpense" (save)="saveExistingExpense($event)" (delete)="deleteExpense($event)" (paid)="markExpensePaid($event)"></app-existing-expense-block>
    </div>
  </ng-container>
</div>
